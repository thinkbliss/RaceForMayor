function createMarker(e,n,a,o){var t=document.createElement("div");t.style.cssText="min-width: 368px; background: rgba(255,255,255,0.9); padding: 10px; color: #000; display: inline-block;",t.innerHTML=a;var i={content:t,disableAutoPan:!1,maxWidth:0,pixelOffset:new google.maps.Size(-100,0),zIndex:null,scrollwheel:!1,boxStyle:{background:"transparent",width:"250px"},closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,enableEventPropagation:!1},r=new google.maps.Marker({position:e,icon:o+".png",map:map,title:n,zIndex:Math.round(-1e5*e.lat())<<5});r.mycategory=o,r.myname=n,gmarkers.push(r),google.maps.event.addListener(r,"click",function(){ib.setOptions(i),ib.open(map,this)})}function show(e){for(var n=0;n<gmarkers.length;n++)gmarkers[n].mycategory==e&&gmarkers[n].setVisible(!0);document.getElementById(e+"box").checked=!0}function hide(e){for(var n=0;n<gmarkers.length;n++)gmarkers[n].mycategory==e&&gmarkers[n].setVisible(!1);document.getElementById(e+"box").checked=!1,ib.close()}function boxclick(e,n){e.checked?show(n):hide(n)}function myclick(e){google.maps.event.trigger(gmarkers[e],"click")}function initialize(){var e={zoom:13,scrollwheel:!1,center:new google.maps.LatLng(41.8781136,-87.7097982),mapTypeId:google.maps.MapTypeId.ROADMAP,streetViewControl:!1};map=new google.maps.Map(document.getElementById("map"),e),google.maps.event.addListener(map,"click",function(){ib.close()}),$(document).ready(function(){$.getJSON("data.json",function(e){for(var n=0;n<e.length;n++)var a=e[n],o=new google.maps.LatLng(a.ltt,a.lgt),t=a.name,i="<h5>"+a.name+"</h5><p class='addy'>"+a.place+"</p><div>"+a.video+"</div><a href='"+a.thumbUrl+"' title='"+a.name+"'><img src='"+a.thumbnail+"'/></a><p>"+a.shortDesc+"</p><a href='"+a.url+"' title='"+a.name+"'>Read more</a>",r=a.cat,c=createMarker(o,t,i,r);show("stories"),hide("environment"),hide("education"),hide("economic"),hide("infrastructure"),hide("parks")})})}var gmarkers=[],map=null,ib=new InfoBox;